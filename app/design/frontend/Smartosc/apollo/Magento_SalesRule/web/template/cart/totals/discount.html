<!-- ko if: isDisplayed() -->
<tr class="totals totals-discount">
    <td colspan="2">
        <table>
            <tr class="discount">
                <th class="mark" scope="row">
                    <span class="title" data-bind="text: title"></span>
                </th>
                <td class="amount" data-bind="attr: {'data-th': title}">
                    <span><span class="price" data-bind="text: getValue()"></span></span>
                </td>
            </tr>
            <!-- ko if: rules -->
            <!-- ko foreach: {data: rules, as: 'rule', afterRender: showDiscountArrow} -->
            <tr class="total-rules">
                <th class="mark" scope="row">
                    <span class="rule-name" data-bind="text: (rule.code ? rule.code : rule.rule_name)"></span>
                </th>
                <td class="amount">
                    <!-- ko if: rule.rule_amount && rule.rule_amount != 0 -->
                    <span class="rule-amount" data-bind="text: $parent.getFormattedPrice(rule.rule_amount)"></span>
                    <!-- /ko -->
                </td>
            </tr>
            <!-- /ko -->
            <!-- /ko -->
        </table>
    </td>
</tr>
<!-- /ko -->