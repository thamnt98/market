<!--
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */
-->
<if args="isAllowed()">
    <a if="imageExists($row())"
       class="product-item-photo"
       attr="href: $row().url">
        <span class="product-image-container"
              data-bind="style: {width: getWidth($row()) + 'px'}">
            <span class="product-image-wrapper" loading="lazy"
                  data-bind="style: {'padding-bottom': getHeight($row())/getWidth($row()) * 100 + '%'}">
                <img data-bind="attr: {src: getImageUrl($row()), class:'product-image-photo',
                                       alt: getLabel($row()), title: getLabel($row()),
                                       width: getWidth($row()), height: getHeight($row())}" />
                <span data-bind="attr: { class: 'product-stock popular-sale-count-' + $row().id}" style="display: none"></span>
            </span>
        </span>
    </a>
</if>
