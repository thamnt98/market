<?xml version="1.0"?>
<!--
  ~ @project    ct-corp-transmart
  ~ @license    http://opensource.org/licenses/osl-3.0.php Open Software License (OSL 3.0)
  ~ @author     Duc Nguyen Hoang <ducnh2@smartosc.com>
  ~ @copyright  Copyright Â© 2020 SmartOSC. All rights reserved.
  ~ @url        http://www.smartosc.com
  -->
<routes xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Webapi:etc/webapi.xsd">
    <route url="/V1/help/getParentTopics" method="GET">
        <service class="SM\Help\Api\TopicRepositoryInterface" method="getParentTopics"/>
        <resources>
            <resource ref="anonymous"/>
        </resources>
    </route>
    <route url="/V1/help/getChildTopics/topic/:parentId" method="GET">
        <service class="SM\Help\Api\TopicRepositoryInterface" method="getChildTopics"/>
        <resources>
            <resource ref="anonymous"/>
        </resources>
    </route>
    <route url="/V1/help/getChildQuestions/topic/:topicId" method="GET">
        <service class="SM\Help\Api\TopicRepositoryInterface" method="getChildQuestions"/>
        <resources>
            <resource ref="anonymous"/>
        </resources>
    </route>
    <route url="/V1/help/getTopQuestions" method="GET">
        <service class="SM\Help\Api\QuestionRepositoryInterface" method="getTopQuestion"/>
        <resources>
            <resource ref="anonymous"/>
        </resources>
    </route>
    <route url="/V1/help/search" method="GET">
        <service class="SM\Help\Api\SearchRepositoryInterface" method="searchQuestionsFullData"/>
        <resources>
            <resource ref="anonymous"/>
        </resources>
    </route>
    <route url="/V1/help/contact/submit" method="POST">
        <service class="SM\Help\Api\ContactRepositoryInterface" method="submit"/>
        <resources>
            <resource ref="self"/>
        </resources>
        <data>
            <parameter name="customerId" force="true">%customer_id%</parameter>
        </data>
    </route>
    <route url="/V1/help/contact/getListStore" method="GET">
        <service class="SM\Help\Api\ContactRepositoryInterface" method="getListStore"/>
        <resources>
            <resource ref="self"/>
        </resources>
    </route>
    <route url="/V1/help/contact/upload-image" method="POST">
        <service class="SM\Help\Api\ContactRepositoryInterface" method="uploadImage"/>
        <resources>
            <resource ref="self" />
        </resources>
    </route>
</routes>
