<?php
/**
 * @project    ct-corp-transmart
 * @license    http://opensource.org/licenses/osl-3.0.php Open Software License (OSL 3.0)
 * @author     Duc Nguyen Hoang <ducnh2@smartosc.com>
 * @copyright  Copyright Â© 2020 SmartOSC. All rights reserved.
 * @url        http://www.smartosc.com
 */

/** @var \SM\Customer\Block\Form\Register $block */
?>
<div class="block-container-signin block-container--terms" id="terms-popup" style="display: none">
    <div class="row no-gutters">
        <div class="container-signin--left col-xs-12 col-xl-6">
            <img src='<?= $block->escapeUrl($block->getViewFileUrl('images/reliable.jpg')); ?>' alt="Welcome" loading="lazy" width="585" height="859">
        </div>
        <div class="container-signin--right col-xs-12 col-xl-6">
            <div class="container-signin--content">
                <div class="block-title block-title-terms">
                    <button type="button" class="action-back" selector="action-back">
                        <i class="icon ic-black"></i>
                    </button>
                    <strong id="block-customer-terms-heading" role="heading" aria-level="2">
                        <?= $block->escapeHtml(__('TERMS OF USE')) ?>
                    </strong>
                </div>
                <div class="block-content">
                    <?= /* @noEscape */ $block->getTermsConditionsContent() ?>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    require(
        [
            'jquery',
            'Magento_Ui/js/modal/modal'
        ], function ($, modal) {
            let registerTerms = $('#register-terms-conditions'),
                termsPopup = $('#terms-popup'),
                options = {
                    type: 'popup',
                    responsive: true,
                    innerScroll: false,
                    clickableOverlay: false,
                    modalClass: 'terms-popup',
                    title: '',
                    buttons: []
                };

            modal(options, termsPopup);
            registerTerms.on('click', function () {
                $('#register').modal('closeModal');
                termsPopup.modal('openModal').show();
            });

            termsPopup.find('[selector=action-back]').click(function () {
                termsPopup.modal('closeModal');
                $('#register').modal('openModal').show();
            });
        }
    )
</script>
